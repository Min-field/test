webpackJsonp([10],{K6G3:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("MVMM"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("Z0/y")(null,a,!1,function(e){n("K6G3")},null,null).exports,u=n("zO6J");r.default.use(u.a);var i=new u.a({routes:[{path:"/",redirect:"/login"},{path:"/login",component:function(e){return n.e(1).then(function(){var t=[n("GF4k")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/index",component:function(e){return n.e(2).then(function(){var t=[n("MpTN")];e.apply(null,t)}.bind(this)).catch(n.oe)},children:[{path:"/",component:function(e){return n.e(8).then(function(){var t=[n("qXVv")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/gift",component:function(e){return Promise.all([n.e(0),n.e(4)]).then(function(){var t=[n("Vs2M")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/user",component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){var t=[n("UmiO")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/template",component:function(e){return Promise.all([n.e(0),n.e(5)]).then(function(){var t=[n("xUGj")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/order",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){var t=[n("e+pZ")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}},{path:"/condition",component:function(e){return n.e(6).then(function(){var t=[n("k5i3")];e.apply(null,t)}.bind(this)).catch(n.oe)},meta:{requireAuth:!0}}]}]});i.beforeEach(function(e,t,n){localStorage.getItem("token");n()});var l=i,c=n("b13w"),s=n.n(c),p=(n("e7M2"),n("9rMa"));r.default.use(p.a);var h=new p.a.Store({state:{username:"",token:null},mutations:{logout:function(e){localStorage.removeItem("token"),localStorage.removeItem("username"),e.token=null,e.username=""}}}),d=n("2sCs"),m=n.n(d),f=n("DEjr"),v=n.n(f);m.a.defaults.baseURL="https://wechat.colonp.top",m.a.defaults.timeout=5e3,m.a.interceptors.request.use(e=>{let t=localStorage.getItem("token"),n=h.state.token;return n?e.headers.Authorization=`Bearer ${n}`:t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),m.a.interceptors.response.use(e=>e,e=>{if(e.response)switch(e.response.status){case 401:case 403:h.commit("logout"),l.replace({path:"login",query:{targetPath:l.currentRoute.fullPath}})}return alert("请求错误"),Promise.reject(e)});var w={post:(e,t)=>m()({method:"post",url:e,data:v.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{var t=e.data;if("SUCCESS"==t.return_code)return t;throw t}),post2:(e,t)=>m()({method:"post",url:e,data:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},headers:{"Content-Type":"multipart/form-data"}}).then(e=>{var t=e.data;if("SUCCESS"==t.return_code)return t;throw t}),get:(e,t)=>m()({method:"get",url:e,params:t}).then(e=>{var t=e.data;if("SUCCESS"==t.return_code)return t;throw t})};r.default.use(s.a),r.default.prototype.$axios=w,new r.default({router:l,store:h,render:function(e){return e(o)}}).$mount("#app")},e7M2:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0ee3644ee649c024ba9c.js.map